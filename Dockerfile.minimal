# 最小化Dockerfile - 基于scratch
FROM scratch

# 复制CA证书（从宿主系统）
COPY --from=alpine:latest /etc/ssl/certs/ca-certificates.crt /etc/ssl/certs/

# 复制预构建的二进制文件
COPY kiro2api /kiro2api
COPY static /static

# 暴露默认端口
EXPOSE 8080

# 设置默认命令
ENTRYPOINT ["/kiro2api"]